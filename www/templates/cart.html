<ion-view view-title="C.A : {{ ca | number : 2 }} DHS">
	<div class="bar bar-subheader bar-balanced" style="background-color: #B71C1C;
	max-height: 20px;">
       <div class="row" style="
              margin: 0;
              margin: 0;
              padding: 0;">
                <div class="col" 
                style="
                min-width: 35%;
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 11px; 
                font-weight: 900; 
                text-align: left;">désignation({{ data.items.length }})</div>
                <div class="col col-15" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;
                font-size: 11px; 
                font-weight: 900; 
                float: left;">cs.</div>
                <div class="col col-15" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;
                font-size: 11px; 
                font-weight: 900; 
                float: left;">un.</div>
                
                <div class="col" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;
                font-size: 11px;
                font-weight: 900; 
                float: left;">p.u</div>
                
                <div class="col" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;
                font-size: 11px;
                font-weight: 900; 
                float: left;">remise</div>
                <div class="col" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;
                font-size: 11px;
                font-weight: 900; 
                float: left;">total</div>
              </div>
    </div>
    <ion-content ng-class="{expanded:$scope.isExpanded}">
        <div class="list" style="
          margin: 0;
          margin-top: 20px;
          margin-bottom: 65px;
          background-color: white;
          padding: 0;">
            <div class="item" 
            style="
            margin: 0;
            padding: 0;
            min-height: 0;
            border: none;
            border-bottom: 1px solid rgba(0,0,0,.5);
            min-height: 0px;
            text-align: left;" ng-repeat="item in data.items | orderBy:'-prixVente' track by $index ">
                <div class="row" style="
                margin: 0;
                padding: 0;
                margin: 0;">
                   <div class="col" style="
                   min-width: 35%;
                  margin: 0;
                  padding: 0;
                  text-align: center;
                   overflow: hidden; border: none;">
                    <p 
                    style="
                    font-size: 11px;
                    font-weight: 900; 
                    text-align: left; 
                    margin: 0;
                    color: #060606;">{{ item.nomArticle }}</p></div>
                
            <div class="col col-15" style="
                border: none;
                margin: 0;
                padding: 0;
                font-weight: 900;
                text-align: center;"><!--<input type="number" ng-readonly="true" style="font-weight: 600; font-size: 11px;color: black; width: 100%; text-align:center;" ng-model="" ng-change="change(item)"></input>-->
                <span style="font-weight: 900; font-size: 10px;color: black; width: 100%; text-align:center;">{{ item.packet }}</span>
            </div>
            <div class="col col-15" style="
                border: none;
                margin: 0;
                padding: 0;
                font-weight: 400;
                text-align: center;"><!--<input type="number" ng-readonly="true" style="font-weight: 600; font-size: 11px;color: black; width: 100%; text-align:center;" ng-model="item.unit" ng-change="change(item)"></input>-->
                <span style="font-weight: 900; font-size: 10px;color: black; width: 100%; text-align:center;">{{ item.unit }}</span>
            </div>
                <div class="col col-15" style="
                font-weight: 900;
                font-size: 9px;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;">{{ item.prixVente | number : 2 }}
                </div>
                <div class="col col-15" style="
                font-weight: 900;
                font-size: 9px;
                margin: 0;
                padding: 0;
                text-align: center;
                border: none;">{{ (item.remise  || 0)| number : 2}}
                </div>
                <div class="col"
                style="
                margin: 0;
                font-size: 8.5px;
                padding: 0;
                text-align: center;
                border: none;"><span style="color: green; font-weight: 900; font-size: 9px;">
                {{ item.ttc | number:2 }}</span></div>
                </div>
            </div>

            <div class="item" 
            style="
            margin: 0;
            padding: 0;
            min-height: 0;
            border: none;
            min-height: 0px;
            text-align: left;
            color: white;">
              <div class="row" style="
              margin: 0; 
              margin-top: 30px;
              margin: 0;
              padding: 0;">
                <div class="col col-50" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                color: black;
                background-color: transparent;"><span style="float: right; margin-right: 5px;">Total HT : </span></div>
                <div class="col col-50" 
                style="
                border: none;
                border-bottom: 1px solid #B71C1C;
                border-left: 1px solid #B71C1C;
                border-right: 1px solid #B71C1C;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                background-color: #B71C1C;">{{ totalHT | number : 2 }} DHS</div>
              </div>
            </div>
            <div class="item" 
            style="
            margin: 0;
            padding: 0;
            min-height: 0;
            border: none;
            min-height: 0px;
            text-align: left;
            color: white;">
              <div class="row" style="
              margin: 0; 
              margin-top: 30px;
              margin: 0;
              padding: 0;">
                <div class="col col-50" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                color: black;
                background-color: transparent;"><span style="float: right; margin-right: 5px;">ESCOMPTEPMT : </span></div>
                <div class="col col-50" 
                style="
                border: none;
                border-bottom: 1px solid #B71C1C;
                border-left: 1px solid #B71C1C;
                border-right: 1px solid #B71C1C;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                background-color: #B71C1C;">{{ '- '+(currentDiscount || 0)+' %' }}</div>
              </div>
            </div>
            <div class="item" 
            style="
            margin: 0;
            padding: 0;
            min-height: 0;
            border: none;
            min-height: 0px;
            text-align: left;
            color: white;">
              <div class="row" style="
              margin: 0; 
              margin-top: 30px;
              margin: 0;
              padding: 0;">
                <div class="col col-50" 
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                color: black;
                background-color: transparent;"><span style="float: right; margin-right: 5px;">TOTAL REMISES : </span></div>
                <div class="col col-50" 
                style="
                border: none;
                border-bottom: 1px solid #B71C1C;
                border-left: 1px solid #B71C1C;
                border-right: 1px solid #B71C1C;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                background-color: #B71C1C;">{{ '- '+(promotionDiscount | number:2 || 0)+' DHS' }}</div>
              </div>
            </div>
            <div class="item" 
            style="
            margin: 0;
            padding: 0;
            min-height: 0;
            border: none;
            min-height: 0px;
            text-align: left;
            color: white;">
              <div class="row" style="
              margin: 0; 
              margin-top: 30px;
              margin: 0;
              padding: 0;">
                <div class="col col-50"
                style="
                border: none;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                color: black;
                background-color: transparent;"><span style="float: right; margin-right: 5px;">Total TTC : </span></div>
                <div class="col col-50"
                style="
                border: none;
                border-bottom: 1px solid #B71C1C;
			    border-left: 1px solid #B71C1C;
			    border-right: 1px solid #B71C1C;
                margin: 0;
                padding: 0;
                text-align: center;
                font-size: 14px; 
                font-weight: 900; 
                float: left;
                background-color: #B71C1C;">{{ (totalTTC - (totalTTC*currentDiscount/100) | number : 2 )}} DHS </div>
              </div>
            </div>
          </div>
      </div>

      

      <div class="row">

        <div class="col">
            <h5 style="    
            font-size: 14px;
            font-weight: 600;
            text-align: center;" >Modalités de paiement</h5>
            <ion-list>
              <ion-radio style="font-weight: 900; color: #B71C1C;" ng-model="choice.id" ng-change="paymentChange(payment)" ng-repeat="payment in paymentMethods" ng-value="{{payment.id}}">{{ payment.name }}</ion-radio>
            </ion-list>
        </div>

        <div class="col" >
            <h5 style="    
            font-size: 14px;
            font-weight: 600;
            text-align: center;" >
            Date Echéance
            </h5>
            <button class="button button-block button-positive" ng-click="openDatePicker()"> DATE </button>
        </div>

      </div>
      

	</ion-content>
	
</ion-view>
<div ng-show="footerBar" class="bar bar-footer bar-balanced" style="background-color: #B71C1C;">
    <div class="title">
      <a ng-click="previous()" ng-if="hasPrevious" style="float: left; font-size: 45px; margin: 0; margin-left: 10px;"><i class="icon ion-android-arrow-back"></i></a>

      <a ng-click="next()" ng-if="hasNext" style="float: right; font-size: 45px; margin: 0; margin-right: 10px; margin-left: 10px;"> <i class="icon ion-android-arrow-forward"></i></a>

      <a ng-click="checkOut()" ng-if="!hasNext" style="float: right; font-size: 45px; margin: 0; margin-right: 10px; margin-left: 10px;"> <i class="icon ion-checkmark-round"></i></a>

      <a ng-click="print()"><i style="float: right; font-size: 30px; margin: 0; margin-left: 10px; margin-right: 10px;" class="icon ion-printer"></i>
      </a>

      <a ng-click="cancel()"><i style="float: right; font-size: 35px; margin: 0; margin-left: 10px; margin-right: 10px;" class="icon ion-android-close"></i></a>
      
      
    </div>
    <!--<div class="title">
        <a ng-show="true" ng-click = "pay()" ng-show="recovery" style="float: left; font-size: 35px; margin-right: 20px;"> <i class="icon ion-card"></i></a>
        Total : {{ totalBill | promotion }} DHS 
        <a ng-click="confirm()"> <i style="float: right; font-weight: 900; font-size: 35px;" class="icon ion-android-done-all"></i></a>
        <a ng-click="" ng-show="true"> <i style="float: left; font-weight: 900; font-size: 35px;" class="icon ion-android-print"></i></a>

    </div>-->
</div>

<script id="gratuites.html" type="text/ng-template">
    
    <div class="list" style="max-length: 500px;"> 

        <div class="item" style="position: relative;">
            <a ng-if="previousPopUpShow" style="color: #B71C1C; float: left; font-weight: 900; font-size: 30px;" class="icon ion-android-arrow-back" ng-click="previousPopUp()"></a>
            <a ng-if="nextPopUpShow" style="color: #B71C1C; float: right; font-weight: 900; font-size: 30px;" class="icon ion-android-arrow-forward" ng-click="nextPopUp()"></a> 
        </div>

        <div ng-repeat="sub in group.conflicts track by $index" style="position: relative; padding: 0; margin-bottom: 15px; border-bottom: 1px solid #B71C1C;"ng-click="hello(group, $index)">
            <i ng-if="checked(group, $index)" style="color: #B71C1C; position: absolute; top: -18px; right: 0px;" class="icon ion-checkmark-round"></i>
            
            <div ng-repeat="item in sub" style="  font-size: 11px; min-height: 30px;">
                <span style="float: left; font-weight: 600; ">{{ item.designation }}</span>
                <span style="float: right;">{{ item.unit + ' un.'}}</span>

            </div>
        </div>
    </div>
</script>

   




